{
    "schemes": [
        "http",
        "https"
    ],
    "swagger": "2.0",
    "info": {
        "description": "AI API Gatewayæ˜¯ä¸€ä¸ªé«˜æ€§èƒ½çš„AI APIç½‘å…³ï¼Œæä¾›ç»Ÿä¸€çš„APIæ¥å£æ¥è®¿é—®å¤šä¸ªAIæä¾›å•†ã€‚\n\n## ä¸»è¦åŠŸèƒ½\n- ğŸ¤– å¤šAIæä¾›å•†æ”¯æŒï¼ˆOpenAIã€Anthropicç­‰ï¼‰\n- âš–ï¸ æ™ºèƒ½è´Ÿè½½å‡è¡¡å’Œæ•…éšœè½¬ç§»\n- ğŸ“Š ç²¾ç¡®çš„é…é¢ç®¡ç†å’Œè®¡è´¹\n- ğŸ” å®Œæ•´çš„è®¤è¯å’Œæˆæƒ\n- ğŸ“ˆ å®æ—¶ç›‘æ§å’Œç»Ÿè®¡\n\n## è®¤è¯æ–¹å¼\næ‰€æœ‰APIè¯·æ±‚éƒ½éœ€è¦åœ¨è¯·æ±‚å¤´ä¸­åŒ…å«æœ‰æ•ˆçš„APIå¯†é’¥ï¼š\n```\nAuthorization: Bearer YOUR_API_KEY\n```\n\n## å¿«é€Ÿå¼€å§‹\n1. ä½¿ç”¨ç®¡ç†APIåˆ›å»ºç”¨æˆ·è´¦æˆ·\n2. ä¸ºç”¨æˆ·ç”ŸæˆAPIå¯†é’¥\n3. ä½¿ç”¨APIå¯†é’¥è°ƒç”¨AIæ¥å£\n\n## æ”¯æŒçš„æ¨¡å‹\n- GPT-3.5-turbo\n- GPT-4\n- Claude-3-haiku\n- Claude-3-sonnet\n- Claude-3-opus",
        "title": "AI API Gateway",
        "contact": {
            "name": "AI API Gateway Team",
            "url": "https://example.com/support",
            "email": "support@example.com"
        },
        "license": {
            "name": "MIT",
            "url": "https://opensource.org/licenses/MIT"
        },
        "version": "1.0.0"
    },
    "host": "localhost:8080",
    "basePath": "/",
    "paths": {
        "/health": {
            "get": {
                "description": "æ£€æŸ¥æœåŠ¡æ•´ä½“å¥åº·çŠ¶æ€ï¼ŒåŒ…æ‹¬æ•°æ®åº“å’ŒAIæä¾›å•†è¿æ¥çŠ¶æ€",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "å¥åº·æ£€æŸ¥"
                ],
                "summary": "å¥åº·æ£€æŸ¥",
                "responses": {
                    "200": {
                        "description": "å¥åº·æ£€æŸ¥é€šè¿‡",
                        "schema": {
                            "$ref": "#/definitions/dto.Response"
                        }
                    },
                    "503": {
                        "description": "å¥åº·æ£€æŸ¥å¤±è´¥",
                        "schema": {
                            "$ref": "#/definitions/dto.Response"
                        }
                    }
                }
            }
        },
        "/health/live": {
            "get": {
                "description": "æ£€æŸ¥æœåŠ¡æ˜¯å¦æ­£åœ¨è¿è¡Œ",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "å¥åº·æ£€æŸ¥"
                ],
                "summary": "å­˜æ´»æ£€æŸ¥",
                "responses": {
                    "200": {
                        "description": "æœåŠ¡å­˜æ´»",
                        "schema": {
                            "$ref": "#/definitions/dto.Response"
                        }
                    }
                }
            }
        },
        "/health/ready": {
            "get": {
                "description": "æ£€æŸ¥æœåŠ¡æ˜¯å¦å·²å‡†å¤‡å¥½æ¥æ”¶è¯·æ±‚",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "å¥åº·æ£€æŸ¥"
                ],
                "summary": "å°±ç»ªæ£€æŸ¥",
                "responses": {
                    "200": {
                        "description": "æœåŠ¡å°±ç»ª",
                        "schema": {
                            "$ref": "#/definitions/dto.Response"
                        }
                    },
                    "503": {
                        "description": "æœåŠ¡æœªå°±ç»ª",
                        "schema": {
                            "$ref": "#/definitions/dto.Response"
                        }
                    }
                }
            }
        },
        "/health/stats": {
            "get": {
                "description": "è·å–ç³»ç»Ÿè¿è¡Œç»Ÿè®¡ä¿¡æ¯",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "å¥åº·æ£€æŸ¥"
                ],
                "summary": "ç³»ç»Ÿç»Ÿè®¡",
                "responses": {
                    "200": {
                        "description": "ç»Ÿè®¡ä¿¡æ¯",
                        "schema": {
                            "$ref": "#/definitions/dto.Response"
                        }
                    },
                    "500": {
                        "description": "è·å–ç»Ÿè®¡å¤±è´¥",
                        "schema": {
                            "$ref": "#/definitions/dto.Response"
                        }
                    }
                }
            }
        },
        "/health/version": {
            "get": {
                "description": "è·å–æœåŠ¡ç‰ˆæœ¬ä¿¡æ¯",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "å¥åº·æ£€æŸ¥"
                ],
                "summary": "ç‰ˆæœ¬ä¿¡æ¯",
                "responses": {
                    "200": {
                        "description": "ç‰ˆæœ¬ä¿¡æ¯",
                        "schema": {
                            "$ref": "#/definitions/dto.Response"
                        }
                    }
                }
            }
        },
        "/metrics": {
            "get": {
                "description": "è·å–Prometheusæ ¼å¼çš„ç›‘æ§æŒ‡æ ‡",
                "produces": [
                    "text/plain"
                ],
                "tags": [
                    "ç›‘æ§"
                ],
                "summary": "ç›‘æ§æŒ‡æ ‡",
                "responses": {
                    "200": {
                        "description": "PrometheusæŒ‡æ ‡",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/v1/chat/completions": {
            "post": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "åˆ›å»ºèŠå¤©è¡¥å…¨è¯·æ±‚ï¼Œå…¼å®¹OpenAI APIæ ¼å¼ã€‚æ”¯æŒæµå¼å’Œéæµå¼å“åº”ã€‚",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "AIæ¥å£"
                ],
                "summary": "èŠå¤©è¡¥å…¨",
                "parameters": [
                    {
                        "description": "èŠå¤©è¡¥å…¨è¯·æ±‚",
                        "name": "body",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/clients.ChatCompletionRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "èŠå¤©è¡¥å…¨å“åº”",
                        "schema": {
                            "$ref": "#/definitions/clients.AIResponse"
                        }
                    },
                    "400": {
                        "description": "è¯·æ±‚å‚æ•°é”™è¯¯",
                        "schema": {
                            "$ref": "#/definitions/dto.Response"
                        }
                    },
                    "401": {
                        "description": "è®¤è¯å¤±è´¥",
                        "schema": {
                            "$ref": "#/definitions/dto.Response"
                        }
                    },
                    "429": {
                        "description": "è¯·æ±‚è¿‡äºé¢‘ç¹",
                        "schema": {
                            "$ref": "#/definitions/dto.Response"
                        }
                    },
                    "500": {
                        "description": "æœåŠ¡å™¨å†…éƒ¨é”™è¯¯",
                        "schema": {
                            "$ref": "#/definitions/dto.Response"
                        }
                    }
                }
            }
        },
        "/v1/completions": {
            "post": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "åˆ›å»ºæ–‡æœ¬è¡¥å…¨è¯·æ±‚ï¼Œå…¼å®¹OpenAI APIæ ¼å¼",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "AIæ¥å£"
                ],
                "summary": "æ–‡æœ¬è¡¥å…¨",
                "parameters": [
                    {
                        "description": "æ–‡æœ¬è¡¥å…¨è¯·æ±‚",
                        "name": "body",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/clients.CompletionRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "æ–‡æœ¬è¡¥å…¨å“åº”",
                        "schema": {
                            "$ref": "#/definitions/clients.AIResponse"
                        }
                    },
                    "400": {
                        "description": "è¯·æ±‚å‚æ•°é”™è¯¯",
                        "schema": {
                            "$ref": "#/definitions/dto.Response"
                        }
                    },
                    "401": {
                        "description": "è®¤è¯å¤±è´¥",
                        "schema": {
                            "$ref": "#/definitions/dto.Response"
                        }
                    },
                    "429": {
                        "description": "è¯·æ±‚è¿‡äºé¢‘ç¹",
                        "schema": {
                            "$ref": "#/definitions/dto.Response"
                        }
                    },
                    "500": {
                        "description": "æœåŠ¡å™¨å†…éƒ¨é”™è¯¯",
                        "schema": {
                            "$ref": "#/definitions/dto.Response"
                        }
                    }
                }
            }
        },
        "/v1/models": {
            "get": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "è·å–å¯ç”¨çš„AIæ¨¡å‹åˆ—è¡¨",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "AIæ¥å£"
                ],
                "summary": "åˆ—å‡ºæ¨¡å‹",
                "responses": {
                    "200": {
                        "description": "æ¨¡å‹åˆ—è¡¨",
                        "schema": {
                            "$ref": "#/definitions/clients.ModelsResponse"
                        }
                    },
                    "401": {
                        "description": "è®¤è¯å¤±è´¥",
                        "schema": {
                            "$ref": "#/definitions/dto.Response"
                        }
                    },
                    "500": {
                        "description": "æœåŠ¡å™¨å†…éƒ¨é”™è¯¯",
                        "schema": {
                            "$ref": "#/definitions/dto.Response"
                        }
                    }
                }
            }
        },
        "/v1/usage": {
            "get": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "è·å–å½“å‰ç”¨æˆ·çš„APIä½¿ç”¨ç»Ÿè®¡",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "AIæ¥å£"
                ],
                "summary": "ä½¿ç”¨ç»Ÿè®¡",
                "responses": {
                    "200": {
                        "description": "ä½¿ç”¨ç»Ÿè®¡ä¿¡æ¯",
                        "schema": {
                            "$ref": "#/definitions/dto.UsageResponse"
                        }
                    },
                    "401": {
                        "description": "è®¤è¯å¤±è´¥",
                        "schema": {
                            "$ref": "#/definitions/dto.Response"
                        }
                    },
                    "500": {
                        "description": "æœåŠ¡å™¨å†…éƒ¨é”™è¯¯",
                        "schema": {
                            "$ref": "#/definitions/dto.Response"
                        }
                    }
                }
            }
        }
    },
    "definitions": {
        "clients.AIChoice": {
            "type": "object",
            "properties": {
                "finish_reason": {
                    "type": "string"
                },
                "index": {
                    "type": "integer"
                },
                "message": {
                    "$ref": "#/definitions/clients.AIMessage"
                },
                "text": {
                    "type": "string"
                }
            }
        },
        "clients.AIError": {
            "type": "object",
            "properties": {
                "code": {
                    "type": "string"
                },
                "message": {
                    "type": "string"
                },
                "type": {
                    "type": "string"
                }
            }
        },
        "clients.AIMessage": {
            "type": "object",
            "required": [
                "content",
                "role"
            ],
            "properties": {
                "content": {
                    "type": "string",
                    "example": "Hello, how are you?"
                },
                "role": {
                    "type": "string",
                    "enum": [
                        "system",
                        "user",
                        "assistant"
                    ],
                    "example": "user"
                }
            }
        },
        "clients.AIModel": {
            "type": "object",
            "properties": {
                "created": {
                    "type": "integer"
                },
                "id": {
                    "type": "string"
                },
                "object": {
                    "type": "string"
                },
                "owned_by": {
                    "type": "string"
                },
                "permission": {
                    "type": "array",
                    "items": {}
                }
            }
        },
        "clients.AIResponse": {
            "type": "object",
            "properties": {
                "choices": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/clients.AIChoice"
                    }
                },
                "created": {
                    "type": "integer"
                },
                "error": {
                    "$ref": "#/definitions/clients.AIError"
                },
                "id": {
                    "type": "string"
                },
                "model": {
                    "type": "string"
                },
                "object": {
                    "type": "string"
                },
                "usage": {
                    "$ref": "#/definitions/clients.AIUsage"
                }
            }
        },
        "clients.AIUsage": {
            "type": "object",
            "properties": {
                "completion_tokens": {
                    "type": "integer"
                },
                "prompt_tokens": {
                    "type": "integer"
                },
                "total_tokens": {
                    "type": "integer"
                }
            }
        },
        "clients.ChatCompletionRequest": {
            "type": "object",
            "required": [
                "messages",
                "model"
            ],
            "properties": {
                "max_tokens": {
                    "type": "integer",
                    "example": 150
                },
                "messages": {
                    "type": "array",
                    "minItems": 1,
                    "items": {
                        "$ref": "#/definitions/clients.AIMessage"
                    }
                },
                "model": {
                    "type": "string",
                    "example": "gpt-3.5-turbo"
                },
                "stream": {
                    "type": "boolean",
                    "example": false
                },
                "temperature": {
                    "type": "number",
                    "example": 0.7
                }
            }
        },
        "clients.CompletionRequest": {
            "type": "object",
            "required": [
                "model",
                "prompt"
            ],
            "properties": {
                "max_tokens": {
                    "type": "integer",
                    "example": 150
                },
                "model": {
                    "type": "string",
                    "example": "gpt-3.5-turbo"
                },
                "prompt": {
                    "type": "string",
                    "example": "Once upon a time"
                },
                "stream": {
                    "type": "boolean",
                    "example": false
                },
                "temperature": {
                    "type": "number",
                    "example": 0.7
                }
            }
        },
        "clients.ModelsResponse": {
            "type": "object",
            "properties": {
                "data": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/clients.AIModel"
                    }
                },
                "object": {
                    "type": "string"
                }
            }
        },
        "dto.ErrorInfo": {
            "type": "object",
            "properties": {
                "code": {
                    "type": "string"
                },
                "details": {
                    "type": "object",
                    "additionalProperties": true
                },
                "message": {
                    "type": "string"
                }
            }
        },
        "dto.Response": {
            "type": "object",
            "properties": {
                "data": {},
                "error": {
                    "$ref": "#/definitions/dto.ErrorInfo"
                },
                "message": {
                    "type": "string"
                },
                "success": {
                    "type": "boolean"
                },
                "timestamp": {
                    "type": "string"
                }
            }
        },
        "dto.UsageResponse": {
            "type": "object",
            "properties": {
                "total_cost": {
                    "type": "number",
                    "example": 1.25
                },
                "total_requests": {
                    "type": "integer",
                    "example": 100
                },
                "total_tokens": {
                    "type": "integer",
                    "example": 5000
                }
            }
        }
    },
    "securityDefinitions": {
        "ApiKeyAuth": {
            "description": "APIå¯†é’¥è®¤è¯ï¼Œæ ¼å¼ï¼šBearer YOUR_API_KEY",
            "type": "apiKey",
            "name": "Authorization",
            "in": "header"
        }
    }
}